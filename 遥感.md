农业粮食生产是世界粮食安全的保障。然而，受近年来人口快速增长和气候急剧变化的影响，耕地作为农业活动的基本单位，发生了许多不利的变化，包括植树造林、挖湖、扩大保护区、违建建筑等。这些非农化事件不仅扰乱了当地的农业生态系统，也威胁着全球粮食供应。因此，为了及时获取耕地信息，保障耕地生产和粮食安全，对耕地进行快速动态变化检测就显得尤为重要。

双时变化检测时遥感研究中的一项重要任务，他涉及到对同一区域中不同时间共同遥感影响之间的变化进行比较和识别。

它有许多应用，包括灾害评估、城市规划、农业调查、资源管理和环境监测。随着对地观测技术的快速发展，大量高分辨率光学RS图像引起了人们对变化检测技术的极大关注。然而，由于各种因素，如复杂的纹理、季节变化、气候变化和不断发展的需求，这种出现也给变化检测技术带来了新的挑战。尽管深度学习技术在大规模高分辨率遥感图像上取得了进展，但双时相CD仍然是分析此类数据的最具挑战性的任务之一。

近几十年来，研究人员设计了光学RS图像CD方法来解决这些挑战。传统的带有手工制作特征的CD方法在简单场景中可以获得很好的效果，但在复杂场景中通常表现不佳。基于深度学习的算法比传统算法表现得更好，因为它们可以从大量高质量样本中学习判别特征。

在这些基于深度学习的算法中，有一些是基于深度卷积神经网络(ConvNets)或transformer网络，它们的性能更好。



近年来，深度卷积神经网络被广泛应用于CD中提取判别特征。这些深度特征提取器包括经典的卷积神经网络及其扩展架构，如ResNet (He等人，2016)、UNet (Ronneberger等人，2015)和HRNet (Sun等人，2019)。

有两种常用的特征提取策略:单分支结构(Gao et al .， 2020;Wang et al, 2018)和Siamese networks (Zhan et al, 2017;Wang et al, 2022)。单分支光盘网络采用早期融合策略，将输入的图像融合后再输入光盘网络。Siamese网络采用一种后期融合策略，通常融合从两个独立子网中提取的特征。连体结构近年来更常用，因为它比单支结构性能更好。

深度卷积神经网络需要在空间和时间域对上下文信息进行建模，以有效捕获遥感图像的变化。

将特征聚合或注意机制集成到卷积神经网络中的方法已经被开发出来，进一步提高了CD的性能。单分支结构通常使用连接、差分或求和操作进行图像级特征融合。



A CNN-Transformer Network With Multiscale
Context Aggregation for Fine-Grained
Cropland Change Detection

农业生产是世界粮食安全的保障[1]。然而，受近年来人口快速增长和气候急剧变化的影响，耕地作为农业活动的基本单位，发生了许多不利的变化，包括植树造林、挖湖、扩大保护区、违建建筑等[2]。这些非农业事件不仅扰乱了当地的农业生态系统，但也威胁全球粮食供应[3]。因此，为了及时获取耕地信息，保障耕地生产和粮食安全[4]，对耕地进行快速动态变化检测(CD)就显得尤为重要[5]。

由于耕地分布广泛，通过人工实地调查获取耕地动态是费时费力的[6]。随着卫星影像的广泛应用，遥感技术在地形分类[7]、建筑足迹提取[8]、土地覆盖CD[9]等诸多方面已成为有效而现实的手段。传统的CD方法主要基于多光谱图像，提取丰富的光谱、纹理和结构特征，以快速获得像素或目标的智能变化结果。例如，变化向量分析(change vector analysis, CVA)[10]、主成分分析[10]、多变量变化检测[12][13]等以其简洁的特征表示和快速的变化提取等优点在CD研究中得到了广泛的应用。

然而，由于简单的特征难以满足多样化和高精度变化提取的需求，因此将基于机器学习的手工特征工程方法应用于CD任务[14]，[15]。例如，Vries等[16]将基于随机森林的后分类和传统的CVA结合起来更新年度耕地变化制图。然而，这些基于ml的方法需要事先的专业知识来手动构建和选择特征，这在不同的区域和数据集上的泛化性能很低[17]。此外，由于多光谱图像的空间分辨率有限，难以获得细粒度的动态结果[18]。

由于人工智能技术和遥感平台的快速发展，CD研究的重点已经转向深度学习(DL)模型和高分辨率图像(HRIs)[19]，[20]。这些深度学习模型基于卷积神经网络(convolutional neural networks, cnn)结构，通过重构经典模型，如UNet[22]、[23]、DeepLab[24]、[25]、ResNet[26]、[27]，能够自动学习HRIs[21]中的多层次变化信息。虽然CD结果很容易受到季节、辐射和大气干扰的影响，但最近的CD网络中引入了许多新技术来更好地感知双时相图像的变化，包括多尺度特征融合[28]、[29]、注意机制[30]、[31]、循环神经网络[32]-[34]等，这些技术已被证明可以有效地增强图像之间的相关性模型的特征提取能力。然而，这些传统的基于cnn的方法仍然面临两个瓶颈:一是特征编码和解码过程中的信息丢失问题，二是随着层数和数据量的增加，其计算量呈指数级增长的问题。

最近，最初为自然语言处理任务而设计的变压器[35]在计算机视觉领域也受到了广泛关注，如图像分类[36]、分割[37]、对象识别[38]、图像字幕[39]等。与CNN相比，transformer已经显示出强大的建模全局依赖关系的能力，以减轻远程信息的丢失[40]。受这些工作的启发，Chen等人[41]在CD任务中引入了转换器，并实现了一个双时间图像转换器(BIT)，它在基于差分的CD框架中将输入图像编码为上下文丰富的语义令牌。

尽管现有的方法在遥感CD方面取得了很大的成就，但实现细粒度耕地CD仍然存在挑战。深度学习模型的性能在很大程度上依赖于训练数据集，许多先前的工作已经为CD提供了很好的标注数据集，如用于语义CD的高分辨率语义变化检测数据集(HRSCD)[42]和SECOND[43]，用于二进制CD的SYSU-CD[44]和SVCD[45]，用于构建CD的BCDD[46]和LEVIR-CD[31]等。到目前为止，还没有专门针对耕地变化的数据集，这极大地限制了耕地CD模型的开发和应用。因此，如何高效、有效地对双时影像间的多尺度信息进行建模是快速农田数据采集任务的迫切要求。

为了解决上述问题，本文提出了一个多尺度上下文聚合网络(MSCANet)和一个高分辨率耕地变化检测数据集(CLCD)。MSCANet首先使用CNN主干从双时间图像中捕获多尺度特征;然后利用多尺度上下文聚合器(MSCA)通过变压器架构对丰富的上下文信息进行建模和聚合;最后，利用多分支预测头(MBPH)获取变化映射，进一步增强隐藏层的特征提取和学习。MSCANet基于CNN-transformer结构构建，可以充分结合CNN和transformer的优点，满足快速、准确的农田CD的迫切需求。CLCD由600对标注了各种农田变化的双时相图像组成，可以为基于dl的模型进行农田CD任务提供基准。本文的贡献可以概括为三点



Change Detection for Remote Sensing Images based
on Semantic Prototypes and Contrastive Learning

遥感图像变化检测的目的是识别物体或自然现象状态的差异。它涉及比较和分析在不同时间获得的同一地理区域的图像，以生成变化图。在ground-truth变化图中，每个像素通常被赋予1或0的值，以表明它是否发生了变化。CD技术应用于各个领域，为决策过程提供有价值的信息，如城市扩张[2]、湖泊表面积变化[3]、损害评估[4]、环境监测[5]等。自动光盘技术的进步极大地促进了这些应用的发展，并引起了众多研究人员的关注。

随着深度学习方法在图像分类[6]-[8]、目标检测[9]、[10]、语义分割[11]、[12]、动作识别[13]、[14]等计算机视觉领域取得显著成就，基于cnn的变化检测(change detection, CD)算法[1]、[15]-[22]在遥感领域的表现优于传统方法。Zhan等[15]首先将暹罗卷积网络引入到双时相遥感图像变化检测中，取得了优异的成绩