## Promise使用详解

## 1 异步代码的困境

### 异步任务的处理

如果我们调用一个函数，这个函数中发送网络请求（可以用定时器来模拟）

如果发送网络请求成功了，那么**告知调用者发送成功，并且将相关数据返回出去**

如果网络请求失败了，那么告知**调用者发送失败，并且告知错误信息**



### 什么是Promise呢？

在上面的解决方案中，我们确确实实可以解决请求函数得到结果之后，获取到对应的回调，但是它存在两个主要的问题：

+ 第一：我们需要自己来设计回调函数、回调函数的名称、回调函数的使用等
+ 第二：对于不同的人、不同的框架设计出来的方案是不同的，那么我们必须耐心去看别人的源码或者文档，以便可以理解它 这个函数到底怎么用；

我们来看一下Promise的API是怎么样的：

+ Promise是一个类，可以翻译成承诺、许诺、期约
+ 当我们需要的时候，给予调用者一个承诺：待会儿我会给你回调数据时，就可以创建一个Promise的对象
+ 在通过new创建Promise对象时，我们需要传入一个**回调函数**，我们称之为**executor**
  + 这个回调函数会被立即执行，并且给传入另外两个回调函数resolve、reject
  + 当我们**调用resolve回调函数**时，**会执行Promise对象的then方法**传入的回调函数
  + 当我们调用reject回调函数时，会执行Promise对象的catch方法传入的回调函数；



### Promise的代码结构

上面Promise使用过程，我们可以将它划分成三个状态：

+ 待定（pending）: 初始状态，既没有被兑现，也没有被拒绝； 
  + 当执行executor中的代码时，处于该状态； 
+ 已兑现（fulfilled）: 意味着操作成功完成； 
  + 执行了resolve时，处于该状态，Promise已经被兑现； 
+ 已拒绝（rejected）: 意味着操作失败；
  + 执行了reject时，处于该状态，Promise已经被拒绝；

## 2 认识Promise作用



## 3 Promise基本使用



## 4 Promise状态变化



## 5 Promise实例方法



## 6 Promise的类方法